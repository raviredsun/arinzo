// js obfuscated

var _0xe17a = ["\x6A\x51\x75\x65\x72\x79", "\x75\x73\x65\x20\x73\x74\x72\x69\x63\x74", "\x6C\x6F\x61\x64", "\x66\x61\x64\x65\x4F\x75\x74", "\x5B\x64\x61\x74\x61\x2D\x6C\x6F\x61\x64\x65\x72\x3D\x22\x63\x69\x72\x63\x6C\x65\x2D\x73\x69\x64\x65\x22\x5D", "\x73\x6C\x6F\x77", "\x64\x65\x6C\x61\x79", "\x23\x70\x72\x65\x6C\x6F\x61\x64\x65\x72", "\x62\x6F\x64\x79", "\x73\x74\x61\x72\x74\x5F\x61\x6E\x69\x6D\x61\x74\x69\x6F\x6E", "\x61\x64\x64\x43\x6C\x61\x73\x73", "\x2E\x6C\x65\x66\x74\x5F\x74\x69\x74\x6C\x65", "\x23\x73\x75\x62\x5F\x63\x6F\x6E\x74\x65\x6E\x74\x5F\x69\x6E", "\x6F\x6E", "\x73\x75\x62\x6D\x69\x74", "\x66\x6F\x72\x6D\x23\x77\x72\x61\x70\x70\x65\x64", "\x76\x61\x6C\x69\x64\x61\x74\x65", "\x76\x61\x6C\x69\x64", "\x66\x61\x64\x65\x49\x6E", "\x23\x6C\x6F\x61\x64\x65\x72\x5F\x66\x6F\x72\x6D", "\x64\x64\x73\x6C\x69\x63\x6B", "\x65\x61\x63\x68", "\x73\x65\x6C\x65\x63\x74\x2E\x64\x64\x73\x6C\x69\x63\x6B", "\x6E\x69\x63\x65\x53\x65\x6C\x65\x63\x74", "\x2E\x73\x74\x79\x6C\x65\x64\x2D\x73\x65\x6C\x65\x63\x74\x20\x73\x65\x6C\x65\x63\x74", "\x74\x6F\x6F\x6C\x74\x69\x70", "\x2E\x74\x6F\x6F\x6C\x74\x69\x70\x2D\x31", "\x6F\x77\x6C\x43\x61\x72\x6F\x75\x73\x65\x6C", "\x2E\x63\x61\x72\x6F\x75\x73\x65\x6C\x5F\x70\x69\x63", "\x2E\x63\x64\x2D\x6F\x76\x65\x72\x6C\x61\x79\x2D\x6E\x61\x76", "\x2E\x63\x64\x2D\x6F\x76\x65\x72\x6C\x61\x79\x2D\x63\x6F\x6E\x74\x65\x6E\x74", "\x2E\x63\x64\x2D\x70\x72\x69\x6D\x61\x72\x79\x2D\x6E\x61\x76", "\x2E\x63\x64\x2D\x6E\x61\x76\x2D\x74\x72\x69\x67\x67\x65\x72", "\x72\x65\x73\x69\x7A\x65", "\x72\x65\x71\x75\x65\x73\x74\x41\x6E\x69\x6D\x61\x74\x69\x6F\x6E\x46\x72\x61\x6D\x65", "\x63\x6C\x69\x63\x6B", "\x63\x6C\x6F\x73\x65\x2D\x6E\x61\x76", "\x68\x61\x73\x43\x6C\x61\x73\x73", "\x65\x61\x73\x65\x49\x6E\x43\x75\x62\x69\x63", "\x66\x61\x64\x65\x2D\x69\x6E", "\x76\x65\x6C\x6F\x63\x69\x74\x79", "\x73\x70\x61\x6E", "\x63\x68\x69\x6C\x64\x72\x65\x6E", "\x72\x65\x6D\x6F\x76\x65\x43\x6C\x61\x73\x73", "\x77\x65\x62\x6B\x69\x74\x54\x72\x61\x6E\x73\x69\x74\x69\x6F\x6E\x45\x6E\x64\x20\x6F\x74\x72\x61\x6E\x73\x69\x74\x69\x6F\x6E\x65\x6E\x64\x20\x6F\x54\x72\x61\x6E\x73\x69\x74\x69\x6F\x6E\x45\x6E\x64\x20\x6D\x73\x54\x72\x61\x6E\x73\x69\x74\x69\x6F\x6E\x45\x6E\x64\x20\x74\x72\x61\x6E\x73\x69\x74\x69\x6F\x6E\x65\x6E\x64", "\x69\x73\x2D\x68\x69\x64\x64\x65\x6E", "\x6F\x6E\x65", "\x6E\x6F\x2D\x63\x73\x73\x74\x72\x61\x6E\x73\x69\x74\x69\x6F\x6E\x73", "\x68\x74\x6D\x6C", "\x68\x65\x69\x67\x68\x74", "\x70\x6F\x77", "\x77\x69\x64\x74\x68", "\x73\x71\x72\x74", "\x70\x78", "\x70\x72\x65\x76\x65\x6E\x74\x44\x65\x66\x61\x75\x6C\x74", "\x6E\x61\x6D\x65", "\x61\x74\x74\x72", "\x76\x61\x6C", "\x69\x6E\x70\x75\x74\x5B\x6E\x61\x6D\x65\x3D", "\x5D", "\x2E\x71\x74\x79\x70\x6C\x75\x73", "\x2E\x71\x74\x79\x6D\x69\x6E\x75\x73"];

(function (_0x83efx1) {

    _0xe17a[1];

    _0x83efx1(window)[_0xe17a[13]](_0xe17a[2], function () {

        _0x83efx1(_0xe17a[4])[_0xe17a[3]]();

        _0x83efx1(_0xe17a[7])[_0xe17a[6]](350)[_0xe17a[3]](_0xe17a[5]);

        _0x83efx1(_0xe17a[8])[_0xe17a[6]](350);

        _0x83efx1(_0xe17a[11])[_0xe17a[10]](_0xe17a[9]);

        _0x83efx1(_0xe17a[12])[_0xe17a[10]](_0xe17a[9])

    });

    _0x83efx1(_0xe17a[15])[_0xe17a[13]](_0xe17a[14], function () {

        var _0x83efx2 = _0x83efx1(_0xe17a[15]);

        _0x83efx2[_0xe17a[16]]();

        if (_0x83efx2[_0xe17a[17]]()) {

            _0x83efx1(_0xe17a[19])[_0xe17a[18]]()

        }

    });

    _0x83efx1(_0xe17a[22])[_0xe17a[21]](function () {

        _0x83efx1(this)[_0xe17a[20]]({showSelectedHTML: true})

    });

    _0x83efx1(_0xe17a[24])[_0xe17a[23]]();

    _0x83efx1(_0xe17a[26])[_0xe17a[25]]({html: true});

    _0x83efx1(_0xe17a[28])[_0xe17a[27]]({

        animateOut: _0xe17a[3],

        animateIn: _0xe17a[18],

        items: 1,

        loop: false,

        margin: 10,

        autoplay: false,

        smartSpeed: 300,

        responsiveClass: false

    });

    var _0x83efx3 = _0x83efx1(_0xe17a[29]), _0x83efx4 = _0x83efx1(_0xe17a[30]), _0x83efx5 = _0x83efx1(_0xe17a[31]),

        _0x83efx6 = _0x83efx1(_0xe17a[32]);

    _0x83efx7();

    _0x83efx1(window)[_0xe17a[13]](_0xe17a[33], function () {

        window[_0xe17a[34]](_0x83efx7)

    });

    _0x83efx6[_0xe17a[13]](_0xe17a[35], function () {

        if (!_0x83efx6[_0xe17a[37]](_0xe17a[36])) {

            _0x83efx6[_0xe17a[10]](_0xe17a[36]);

            _0x83efx3[_0xe17a[42]](_0xe17a[41])[_0xe17a[40]]({

                translateZ: 0,

                scaleX: 1,

                scaleY: 1

            }, 500, _0xe17a[38], function () {

                _0x83efx5[_0xe17a[10]](_0xe17a[39])

            })

        } else {

            _0x83efx6[_0xe17a[43]](_0xe17a[36]);

            _0x83efx4[_0xe17a[42]](_0xe17a[41])[_0xe17a[40]]({

                translateZ: 0,

                scaleX: 1,

                scaleY: 1

            }, 500, _0xe17a[38], function () {

                _0x83efx5[_0xe17a[43]](_0xe17a[39]);

                _0x83efx3[_0xe17a[42]](_0xe17a[41])[_0xe17a[40]]({translateZ: 0, scaleX: 0, scaleY: 0}, 0);

                _0x83efx4[_0xe17a[10]](_0xe17a[45])[_0xe17a[46]](_0xe17a[44], function () {

                    _0x83efx4[_0xe17a[42]](_0xe17a[41])[_0xe17a[40]]({

                        translateZ: 0,

                        scaleX: 0,

                        scaleY: 0

                    }, 0, function () {

                        _0x83efx4[_0xe17a[43]](_0xe17a[45])

                    })

                });

                if (_0x83efx1(_0xe17a[48])[_0xe17a[37]](_0xe17a[47])) {

                    _0x83efx4[_0xe17a[42]](_0xe17a[41])[_0xe17a[40]]({

                        translateZ: 0,

                        scaleX: 0,

                        scaleY: 0

                    }, 0, function () {

                        _0x83efx4[_0xe17a[43]](_0xe17a[45])

                    })

                }

            })

        }

    });



    function _0x83efx7() {

        var _0x83efx8 = (Math[_0xe17a[52]](Math[_0xe17a[50]](_0x83efx1(window)[_0xe17a[49]](), 2) + Math[_0xe17a[50]](_0x83efx1(window)[_0xe17a[51]](), 2)) * 2);

        _0x83efx3[_0xe17a[42]](_0xe17a[41])[_0xe17a[40]]({

            scaleX: 0,

            scaleY: 0,

            translateZ: 0

        }, 50)[_0xe17a[40]]({

            height: _0x83efx8 + _0xe17a[53],

            width: _0x83efx8 + _0xe17a[53],

            top: -(_0x83efx8 / 2) + _0xe17a[53],

            left: -(_0x83efx8 / 2) + _0xe17a[53]

        }, 0);

        _0x83efx4[_0xe17a[42]](_0xe17a[41])[_0xe17a[40]]({

            scaleX: 0,

            scaleY: 0,

            translateZ: 0

        }, 50)[_0xe17a[40]]({

            height: _0x83efx8 + _0xe17a[53],

            width: _0x83efx8 + _0xe17a[53],

            top: -(_0x83efx8 / 2) + _0xe17a[53],

            left: -(_0x83efx8 / 2) + _0xe17a[53]

        }, 0)

    }

})(window[_0xe17a[0]]);

$(_0xe17a[60])[_0xe17a[13]](_0xe17a[35], function (_0x83efx9) {

    _0x83efx9[_0xe17a[54]]();

    fieldName = $(this)[_0xe17a[56]](_0xe17a[55]);

    var _0x83efxa = parseInt($(this).parents(".wizard-form").find(_0xe17a[58] + fieldName + _0xe17a[59])[_0xe17a[57]]());

    if (!isNaN(_0x83efxa)) {

        $(this).parents(".wizard-form").find(_0xe17a[58] + fieldName + _0xe17a[59])[_0xe17a[57]](_0x83efxa + 1)

    } else {

        $(this).parents(".wizard-form").find(_0xe17a[58] + fieldName + _0xe17a[59])[_0xe17a[57]](0)

    }

});

$(_0xe17a[61])[_0xe17a[13]](_0xe17a[35], function (_0x83efx9) {

    _0x83efx9[_0xe17a[54]]();

    fieldName = $(this)[_0xe17a[56]](_0xe17a[55]);

    var _0x83efxa = parseInt($(this).parents(".wizard-form").find(_0xe17a[58] + fieldName + _0xe17a[59])[_0xe17a[57]]());

    var dasdcknxc = 0;

    min = $(this).parents(".wizard-form").find(_0xe17a[58] + fieldName + _0xe17a[59]+'[type="number"]').attr("min");
    
    if(min){
        dasdcknxc = min;
    }
    if (!isNaN(_0x83efxa) && _0x83efxa - 1 > 0) {

        $(this).parents(".wizard-form").find(_0xe17a[58] + fieldName + _0xe17a[59])[_0xe17a[57]](_0x83efxa - 1)

    } else {

        $(this).parents(".wizard-form").find(_0xe17a[58] + fieldName + _0xe17a[59])[_0xe17a[57]](dasdcknxc)

    }

});

(function ($) {

    'use strict';

    $('input[name="beach_arrival_time"]').addClass('required');

    $('input[name="lunch_time"]').addClass('required');

})(jQuery);



function arf_ajax_search (start, end) {

    let data = {

        action: 'arf_ajax_action',

        start,

        end

    };

    $.ajax({

        type: 'POST',

        url: "/wp-admin/admin-ajax.php",

        data: data,

        cache: false,

        success: function (res) {

            let response = JSON.parse(res);

            if(response.message === 'ok' && response.httpStatus === 200) {

                let data = response.data;

                var roomSection = $('#room_type');

                roomSection.ddslick('destroy');

                roomSection.empty();

                removeElementsExceptFirst('#room_type option');

                if(data.length > 0) {

                    data.forEach(function(item) {

                        let itemHtml = '<option value="'+item.id+'" data-imagesrc="' + arf_ajax_action.pluginsUrl + '/assets/img/icons_select/double_bed_lux.svg">'+item.post_title+'</option>';

                        $('#room_type').append(itemHtml);

                    });

                }



                $('#room_type').ddslick();

            }

        }

    })

}



function removeElementsExceptFirst(element) {

    $(element).each(function() {

        console.log(1231, $(this));

        if ( $(this).val() != '' ) {

            $(this).remove();

        }

    });

}



;

var calc_price = function($this){
    var total_price = 0;
    var people = 0;
    var guests = 0;
    if($this.parents(".wizard-form-main").find("input[type='number'][name='people']").val()){
        people = val = $this.parents(".wizard-form-main").find("input[type='number'][name='people']").val();
        guests += parseInt(people);
    }else{
        val = 0;
    }
    date_price3 = $this.parents(".wizard-form-main").find("input[name='date_price2']").val();
    mphb_price_quantity = $this.parents(".wizard-form-main").find("input[name='mphb_price_quantity']").val();
    /*$this.parents(".wizard-form-main").find(".adult_count").text(val);
    $this.parents(".wizard-form-main").find(".adult_price").text(date_price3);*/
    if(val > 0){
        if(mphb_price_quantity == "once"){
           total_price += date_price3 * val;
        }else{
           total_price += date_price3 * val;
        }
    }

    if($this.parents(".wizard-form-main").find("input[type='number'][name='child']").val()){
        val = $this.parents(".wizard-form-main").find("input[type='number'][name='child']").val();
        guests += parseInt(val);
    }else{
        val = 0;
    }
    date_child_price3 =  $this.parents(".wizard-form-main").find("input[name='date_child_price2']").val();
    /*$this.parents(".wizard-form-main").find(".child_count").text(val);
    $this.parents(".wizard-form-main").find(".child_price").text(date_child_price3);*/
    /*if(val > paytype{

    })*/
    if(val > 0){
        total_price += (date_child_price3 * val);
    }
    var show_price = "";
    var product_code = [];
    $.each($this.parents(".wizard-form-main").find(".product_main_div"),function(i,j){
        if($(this).find("input").val() != 0){
            max = $(this).data("max");
            val = 1 ;
            if(max && max < people){
                val =  Math.ceil(people/max)
            }
            total_price += val * $(this).find("input").data("value");
            product_code.push(val+" "+$(this).find(".product_title").text()+" ");
            show_price = 1;
        }
    })

    service_extra_not_refundable_price = 0;
    service_extra_late_charge_price = 0;
    service_extra_total_price_not_refundable = 0;
    service_extra_total_price_late_charge = 0;

    if(show_price && guests > 0){

        service_extra_not_refundable_price = (total_price * 5)/100;

        service_extra_late_charge_price = (total_price * 5)/100;

        service_extra_total_price_not_refundable = total_price - service_extra_not_refundable_price;
        service_extra_total_price_late_charge = total_price + service_extra_late_charge_price;

        total_price = "€"+parseFloat(total_price.toFixed(1));

    }else{
        total_price = "-";
    }
    $this.parents(".wizard-form-main").find(".service_total_price").text(total_price);

    $this.parents(".wizard-form-main").find(".service_extra_not_refundable_price").text(parseFloat(service_extra_not_refundable_price.toFixed(1)));
    $this.parents(".wizard-form-main").find(".service_extra_late_charge_price").text(parseFloat(service_extra_late_charge_price.toFixed(1)));
    $this.parents(".wizard-form-main").find(".service_extra_total_price_not_refundable").text(parseFloat(service_extra_total_price_not_refundable.toFixed(1)));
    $this.parents(".wizard-form-main").find(".service_extra_total_price_late_charge").text(parseFloat(service_extra_total_price_late_charge.toFixed(1)));

    $this.parents(".wizard-form-main").find(".service_total_price_view").show()
    if(show_price && guests > 0){
    	$this.parents(".wizard-form-main").find(".service_detail_text").show();
    	
    	txt = " for "+guests+" guests with "+product_code.join(" , ");
    	$this.parents(".wizard-form-main").find(".service_detail_text_innner").text(txt);
    }else{
    	$this.parents(".wizard-form-main").find(".service_detail_text").hide();
    }

}

$(document).ready(function(){
    $(document).delegate(".paytype","click",function(){
        $this = $(this);
        main = $this.parents(".wizard-form-main")

        /*price_view_extra_refundable
        price_view_extra_not_refundable
        price_view_extra_late_charge*/
        if($(this).val() == "not_refundable"){
            main.find(".price_view_not_refundable").show();
            main.find(".price_view_extra_refundable").hide();
            main.find(".price_view_extra_not_refundable").show();
            main.find(".price_view_late_charge").hide();
            main.find(".price_view_extra_late_charge").hide();
        }else if($(this).val() == "late_charge"){
            main.find(".price_view_not_refundable").hide();
            main.find(".price_view_extra_refundable").hide();
            main.find(".price_view_extra_not_refundable").hide();
            main.find(".price_view_late_charge").show();
            main.find(".price_view_extra_late_charge").show();
        }else if($(this).val() == "refundable"){
            main.find(".price_view_not_refundable").hide();
            main.find(".price_view_extra_refundable").show();
            main.find(".price_view_late_charge").hide();
            main.find(".price_view_extra_not_refundable").hide();
            main.find(".price_view_extra_late_charge").hide();
        }
    })
    $(document).delegate(".qtyplus-2","click",function(){
        input =  $(this).parents(".qty-buttons-2").find("input");
        vall = parseInt(input.val());
        if(!vall){
            vall = 0;
        }
        input.val(vall+1)
    })
    $(document).delegate(".qtyminus-2","click",function(){
        input =  $(this).parents(".qty-buttons-2").find("input");
        vall = parseInt(input.val());
        if(vall > 0){
            input.val(vall-1)
        }
        /*product_main_div*/
    })
    $(document).delegate(".add_product","click",function(e){
        e.preventDefault();
        if($(this).data("added")){
            /*$(this).parents(".my_main_div").find(".product_div_"+$(this).data("id")).hide();*/
            /*$(this).data("added","");
            $(this).find("span").text("Add");
            $(this).find("i").addClass("icon-plus").removeClass("icon-check");
            $(this).parents(".my_main_div").find(".product_div_"+$(this).data("id")).find("input").val(0);*///.prop("checked",false);
        }else{
            /*$(this).parents(".my_main_div").find(".product_div_"+$(this).data("id")).show();*/
            people = $(this).parents(".my_main_div").find("input[type='number'][name='people']").val();
            max = $(this).data("max");
            val = 1 ;
            if(max < people){
                val =  Math.ceil(max)
            }
            $(this).parents(".my_main_div").find(".add_product").data("added","");;
            $(this).parents(".my_main_div").find(".add_product").find("span").text("Add");;
            $(this).parents(".my_main_div").find(".add_product").find("i").addClass("icon-plus").removeClass("icon-check");;

            $(this).data("added","1");
            $(this).find("span").text("Added");
            $(this).find("i").addClass("icon-check").removeClass("icon-plus");
            
            $(this).parents(".my_main_div").find(".product_main_div input").val(0);//.prop("checked",true);

            $(this).parents(".my_main_div").find(".product_div_"+$(this).data("id")).find("input").val(1);//.prop("checked",true);
            $(this).parents(".my_main_div").find(".error-text").hide();
        }
        calc_price($(this).parents(".my_main_div").find("input[type='number'][name='people']"));
    })
})